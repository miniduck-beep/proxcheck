# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É API

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞

```bash
cd /Users/t/projectx/cmd/api
go run simple_api.go
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8080`

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
cd /Users/t/projectx/cmd/api
go run simple_client.go
```

–ò–ª–∏ —á–µ—Ä–µ–∑ curl:

```bash
curl http://localhost:8080/health
```

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### Health Check
```bash
curl http://localhost:8080/health
```

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
```bash
curl http://localhost:8080/api/v1/status
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
curl http://localhost:8080/api/v1/config
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
```bash
curl -X POST http://localhost:8080/api/v1/tests \
  -H "Content-Type: application/json" \
  -d '{
    "name": "demo-test",
    "proxy_count": 10,
    "timeout": 30
  }'
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ç–µ—Å—Ç–∞
```bash
curl http://localhost:8080/api/v1/tests/test_20251030053049
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
curl http://localhost:8080/api/v1/results/test_20251030053049
```

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- `GET /api/v1/status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `GET /api/v1/config` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `POST /api/v1/tests` - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
- `GET /api/v1/tests/{id}` - –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∞
- `GET /api/v1/results/{id}` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
- `GET /api/v1/results/{id}/working` - –†–∞–±–æ—á–∏–µ –ø—Ä–æ–∫—Å–∏

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- **–ß–∏—Å—Ç—ã–π Go** - –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** - –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –≥–æ—Ä—É—Ç–∏–Ω–∞—Ö
- **CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **JSON API** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π REST —Ñ–æ—Ä–º–∞—Ç

## üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –∫–ª–∏–µ–Ω—Ç–æ–º

–ö–ª–∏–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ API
2. –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å—Ç–∞—Ç—É—Å
5. –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
cd /Users/t/projectx/cmd/api
go run simple_api.go

# 2. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
curl http://localhost:8080/health
curl http://localhost:8080/api/v1/status

# 3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
curl -X POST http://localhost:8080/api/v1/tests \
  -H "Content-Type: application/json" \
  -d '{"name":"test","proxy_count":5,"timeout":30}'

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥
curl http://localhost:8080/api/v1/results/test_20251030053049
```

## üîÆ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

1. **–ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏** –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã `proxytestlib`
2. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –∏–∑ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –£–ª—É—á—à–µ–Ω–∏—è API

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –∑–∞—â–∏—Ç–∞ API
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
3. **WebSocket** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - Swagger UI

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
–°–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:
- –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
- –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –û—à–∏–±–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 8080
lsof -i :8080

# –ï—Å–ª–∏ –∑–∞–Ω—è—Ç, —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 $(lsof -ti:8080)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å localhost
ping localhost

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
telnet localhost 8080
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

### –°–µ—Ä–≤–µ—Ä:
```
üöÄ Proxy Test API server starting on :8080
üîç Health check: http://localhost:8080/health
üìä System status: http://localhost:8080/api/v1/status
```

### –ö–ª–∏–µ–Ω—Ç:
```
üöÄ Proxy Test API Client
========================================

üîç Checking API health...
‚úÖ Health check: healthy

üìä Getting system status...
‚úÖ System: proxy-test-api
‚úÖ Status: running
‚úÖ Active tests: 0
‚úÖ Total results: 0

üöÄ Starting new test...
‚úÖ Test started with ID: test_20251030053049

üìä Monitoring test status...
‚è≥ Status: running, Progress: checking...
‚úÖ Test completed!

üìà Getting test results...
üìä Test Results:
   Total proxies: 10
   Successful: 2
   Failed: 8
   Success rate: 20.0%
   Average latency: 1.182s

üéâ API client demo completed successfully!
```

## üí° –°–æ–≤–µ—Ç—ã

- **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–≤—ã–º** –ø–µ—Ä–µ–¥ –∫–ª–∏–µ–Ω—Ç–æ–º
- **–ñ–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥** –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞** —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫